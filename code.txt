let hasTableQuestion = false;



pins.A3.onEvent(PinEvent.PulseHigh, function () {
    let pushDuration = pins.pulseDuration() / 1000000;
    if (!hasTableQuestion) {
        light.setAll(0);
    }
    else {
        console.log(pushDuration);
        if (pushDuration > 2.00) {
            console.log("langer dan 5 sec!");
            hasTableQuestion = false;
            setTableStatus(10, false);
        }
    }
    // console.log(pins.pulseDuration());
});

pins.A3.onEvent(PinEvent.PulseLow, function () {
    if (!hasTableQuestion) {
        hasTableQuestion = true;
        setTableStatus(10, true);

        for (let i = 0; i < 4; i++) {
            pause(500);
            light.setAll(0);
            pause(500);
            light.setAll(Colors.Green);
        }
    }
});

input.buttonA.onEvent(ButtonEvent.Click, function () {
    hasTableQuestion = false;
    setTableStatus(10, false);
})

function setTableStatus(tableNumber: number, hasQuestion: boolean) {
    if (hasQuestion) {
        light.setAll(Colors.Green);
        music.baDing.play();
        console.log(`Tafel ${tableNumber} heeft een vraag!`);
    }
    else {
        light.setAll(0);
        music.magicWand.play();
        console.log(`Status tafel ${tableNumber} gereset!`);
    }
}